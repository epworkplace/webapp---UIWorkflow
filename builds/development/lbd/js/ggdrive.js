function onApiLoad(){gapi.load("auth",{callback:onAuthApiLoad}),gapi.load("picker",{callback:onPickerApiLoad})}function onAuthApiLoad(){window.gapi.auth.authorize({client_id:clientId,scope:scope,immediate:!1},handleAuthResult)}function onPickerApiLoad(){pickerApiLoaded=!0}function handleAuthResult(e){e&&!e.error&&(oauthToken=e.access_token,createPicker())}function createPicker(){if(pickerApiLoaded&&oauthToken){(new google.picker.PickerBuilder).addView(google.picker.ViewId.DOCS).addView(new google.picker.DocsUploadView).addView(google.picker.ViewId.FOLDERS).setOAuthToken(oauthToken).setDeveloperKey(developerKey).setCallback(pickerCallback).build().setVisible(!0);for(var e=document.getElementsByClassName("picker-dialog"),o=0;o<e.length;o++)e[o].style.zIndex="2000"}}function pickerCallback(e){if(e[google.picker.Response.ACTION]==google.picker.Action.PICKED){var o=e[google.picker.Response.DOCUMENTS][0];title=o[google.picker.Document.NAME],viewurl=o[google.picker.Document.URL],(title||viewurl)&&($("#doc_ggdrive").show(),$("#drive_filename").val(title),$("#drive_filelink").val(viewurl))}}var developerKey="AIzaSyCEJM-RUGvMK91x51F4lgXfbgJ1G6c7Adg",clientId="942505068713-dl6vtmtpcrk36i54c1b2ruijt0a6jcr3.apps.googleusercontent.com",scope=["https://www.googleapis.com/auth/drive"],pickerApiLoaded=!1,oauthToken;