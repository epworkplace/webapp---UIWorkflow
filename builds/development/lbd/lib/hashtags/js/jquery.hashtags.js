!function(t){t.fn.hashtags=function(){t(this).wrap('<div class="jqueryHashtags"><div class="highlighter"></div></div>').unwrap().before('<div class="highlighter"></div>').wrap('<div class="typehead"></div></div>'),t(this).addClass("theSelector"),autosize(t(this)),t(this).on("keyup",function(){var a=t(this).val();t(this).parent().parent().find(".highlighter").css("width",t(this).css("width")),(a=a.replace(/\n/g,"<br>")).match(/(http|ftp|https):\/\/[\w-]+(\.[\w-]+)+([\w.,@?^=%&amp;:\/~+#-]*[\w@?^=%&amp;\/~+#-])?#([a-zA-Z0-9]+)/g)||a.match(/(http|ftp|https):\/\/[\w-]+(\.[\w-]+)+([\w.,@?^=%&amp;:\/~+#-]*[\w@?^=%&amp;\/~+#-])?@([a-zA-Z0-9]+)/g)||a.match(/(http|ftp|https):\/\/[\w-]+(\.[\w-]+)+([\w.,@?^=%&amp;:\/~+#-]*[\w@?^=%&amp;\/~+#-])?#([\u0600-\u06FF]+)/g)||a.match(/(http|ftp|https):\/\/[\w-]+(\.[\w-]+)+([\w.,@?^=%&amp;:\/~+#-]*[\w@?^=%&amp;\/~+#-])?@([\u0600-\u06FF]+)/g)||(a=a.match(/#(([a-zA-Z0-9]+)|([\u0600-\u06FF]+))#/g)?a.replace(/#(([a-zA-Z0-9]+)|([\u0600-\u06FF]+))#(([a-zA-Z0-9]+)|([\u0600-\u06FF]+))/g,'<span class="hashtag">#$1</span>'):a.replace(/#(([\w-]+)|([\u0600-\u06FF]+))/g,'<span class="hashtag">#$1</span>')),t(this).parent().parent().find(".highlighter").html(a)}),t(this).parent().prev().on("click",function(){t(this).parent().find(".theSelector").focus()})}}(jQuery);