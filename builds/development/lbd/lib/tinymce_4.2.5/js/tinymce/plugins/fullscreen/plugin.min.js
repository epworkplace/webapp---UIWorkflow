tinymce.PluginManager.add("fullscreen",function(o){function e(){function e(){var e,t,n,i;m.setStyle(c,"height",(n=window,i=document.body,i.offsetWidth&&(e=i.offsetWidth,t=i.offsetHeight),n.innerWidth&&n.innerHeight&&(e=n.innerWidth,t=n.innerHeight),{w:e,h:t}).h-(l.clientHeight-c.clientHeight))}var t,l,c,n,i=document.body,s=document.documentElement;f=!f,t=(l=o.getContainer()).style,n=(c=o.getContentAreaContainer().firstChild).style,f?(d=n.width,r=n.height,n.width=n.height="100%",h=t.width,u=t.height,t.width=t.height="",m.addClass(i,"mce-fullscreen"),m.addClass(s,"mce-fullscreen"),m.addClass(l,"mce-fullscreen"),m.bind(window,"resize",e),e(),a=e):(n.width=d,n.height=r,h&&(t.width=h),u&&(t.height=u),m.removeClass(i,"mce-fullscreen"),m.removeClass(s,"mce-fullscreen"),m.removeClass(l,"mce-fullscreen"),m.unbind(window,"resize",a)),o.fire("FullscreenStateChanged",{state:f})}var d,r,a,h,u,f=!1,m=tinymce.DOM;return o.settings.inline?void 0:(o.on("init",function(){o.addShortcut("Meta+Alt+F","",e)}),o.on("remove",function(){a&&m.unbind(window,"resize",a)}),o.addCommand("mceFullScreen",e),o.addMenuItem("fullscreen",{text:"Fullscreen",shortcut:"Meta+Alt+F",selectable:!0,onClick:e,onPostRender:function(){var t=this;o.on("FullscreenStateChanged",function(e){t.active(e.state)})},context:"view"}),o.addButton("fullscreen",{tooltip:"Fullscreen",shortcut:"Meta+Alt+F",onClick:e,onPostRender:function(){var t=this;o.on("FullscreenStateChanged",function(e){t.active(e.state)})}}),{isFullscreen:function(){return f}})});